<rewrite>
    <rewriteMaps>
        <rewriteMap name="VC-redirects">
            <add key="/platform/styleguide" value="docs/vc2devguide/working-with-platform-manager/style-guide" />
            <add key="/styleguide/blade-constructor.html" value="guides/blade-constructor" />
            <add key="/platform/styleguide/blade-constructor.html" value="guides/blade-constructor" />
            <add key="/styleguide/index.html" value="guides/style-guide"/>
            <add key="/platform/styleguide/" value="guides/style-guide"/>
            <add key="/docs/vc113userguide/dashboard" value="docs/old-versions/vc113userguide/dashboard" />
            <add key="/docs/vc111userguide-jp/merchandise-management/creating-editing-and-deleting-a-catalog" value="docs/old-versions/vc111userguide-jp/merchandise-management/creating-editing-and-deleting-a-catalog" />
            <add key="/docs/vc113userguide/settings/settings-tab" value="docs/old-versions/vc113userguide/settings/settings-tab" />
            <add key="/docs/vc111userguide-jp/settings" value="docs/old-versions/vc111userguide-jp/settings" />
            <add key="/docs/vc111userguide-jp/customer-service/editing-customer-details" value="docs/old-versions/vc111userguide-jp/customer-service/editing-customer-details" />
            <add key="/docs/vc113devguide/architecture/extending-and-using-logging-system" value="docs/old-versions/vc113devguide/architecture/extending-and-using-logging-system" />
            <add key="/docs/vc111userguide-jp/settings/search-settings" value="docs/old-versions/vc111userguide-jp/settings/search-settings" />
            <add key="/docs/vc113devguide/working-with-import" value="docs/old-versions/vc113devguide/working-with-import" />
            <add key="/docs/vc113devguide/working-with-orders" value="docs/old-versions/vc113devguide/working-with-orders" />
            <add key="/docs/vc111userguide-jp/settings/shipping" value="docs/old-versions/vc111userguide-jp/settings/shipping" />
            <add key="/docs/vc111userguide-jp/price-lists/creating-and-deleting-a-price-list" value="docs/old-versions/vc111userguide-jp/price-lists/creating-and-deleting-a-price-list" />
            <add key="/docs/vc111userguide-jp/settings/settings-tab" value="docs/old-versions/vc111userguide-jp/settings/settings-tab" />
            <add key="/docs/vc113userguide/order-management/order-details/releasing-shipment" value="docs/old-versions/vc113userguide/order-management/order-details/releasing-shipment" />
            <add key="/docs/vc111userguide-jp/order-management/viewing-order" value="docs/old-versions/vc111userguide-jp/order-management/viewing-order" />
            <add key="/docs/vc113userguide/merchandise-management/items/creating-editing-deleting-a-bundle" value="docs/old-versions/vc113userguide/merchandise-management/items/creating-editing-deleting-a-bundle" />
            <add key="/docs/vc111userguide-jp/order-management/order-details/canceling-shipment" value="docs/old-versions/vc111userguide-jp/order-management/order-details/canceling-shipment" />
            <add key="/docs/vc111userguide-jp/marketing/content-publishing/duplicate-content-publishing-group" value="docs/old-versions/vc111userguide-jp/marketing/content-publishing/duplicate-content-publishing-group" />
            <add key="/docs/vc111userguide-jp/merchandise-management/import/create-import-job" value="docs/old-versions/vc111userguide-jp/merchandise-management/import/create-import-job" />
            <add key="/docs/vc113userguide/customer-service/editing-case-details" value="docs/old-versions/vc113userguide/customer-service/editing-case-details" />
            <add key="/docs/vc113userguide/settings/payments" value="docs/old-versions/vc113userguide/settings/payments" />
            <add key="/docs/vc113userguide/settings/shipping" value="docs/old-versions/vc113userguide/settings/shipping" />
            <add key="/docs/vc111userguide-jp/merchandise-management/items/creating-product-associations" value="docs/old-versions/vc111userguide-jp/merchandise-management/items/creating-product-associations" />
            <add key="/docs/vc111userguide-jp/merchandise-management/items/creating-editing-deleting-a-dynamic-kit" value="docs/old-versions/vc111userguide-jp/merchandise-management/items/creating-editing-deleting-a-dynamic-kit" />
            <add key="/docs/vc111userguide-jp/marketing/content-publishing/create-content-publishing-group" value="docs/old-versions/vc111userguide-jp/marketing/content-publishing/create-content-publishing-group" />
            <add key="/docs/vc111userguide-jp/marketing/content-publishing/filtering-content-publishing-groups" value="docs/old-versions/vc111userguide-jp/marketing/content-publishing/filtering-content-publishing-groups" />
            <add key="/docs/vc111userguide-jp/merchandise-management/categories/creating-a-category" value="docs/old-versions/vc111userguide-jp/merchandise-management/categories/creating-a-category" />
            <add key="/docs/vc113userguide/getting-started/creating-new-store-from-empty-database" value="docs/old-versions/vc113userguide/getting-started/creating-new-store-from-empty-database" />
            <add key="/docs/vc111userguide-jp/customer-service/viewing-cases" value="docs/old-versions/vc111userguide-jp/customer-service/viewing-cases" />
            <add key="/docs/vc111userguide-jp/marketing/dynamic-content/registering-content-places" value="docs/old-versions/vc111userguide-jp/marketing/dynamic-content/registering-content-places" />
            <add key="/docs/vc113userguide/dashboard/customizing-the-dashboard" value="docs/old-versions/vc113userguide/dashboard/customizing-the-dashboard" />
            <add key="/docs/vc111userguide-jp/what-is-commerce-manager/system-requirements" value="docs/old-versions/vc111userguide-jp/what-is-commerce-manager/system-requirements" />
            <add key="/docs/vc113devguide/working-with-catalog-system" value="docs/old-versions/vc113devguide/working-with-catalog-system" />
            <add key="/docs/vc113userguide/customer-service/viewing-cases" value="docs/old-versions/vc113userguide/customer-service/viewing-cases" />
            <add key="/appstore" value="apps" />
            <add key="/blog/blog" value="blog" />
            <add key="/docs/vc111userguide-jp/users-management-roles-and-role-assignment/available-permissions" value="docs/old-versions/vc111userguide-jp/users-management-roles-and-role-assignment/available-permissions" />
            <add key="/docs/vc111userguide-jp/merchandise-management/import/importing-categories-price-lists-and-products" value="docs/old-versions/vc111userguide-jp/merchandise-management/import/importing-categories-price-lists-and-products" />
            <add key="/docs/vc111userguide-jp/settings/stores" value="docs/old-versions/vc111userguide-jp/settings/stores" />
            <add key="/docs/vc113userguide/merchandise-management/items" value="docs/old-versions/vc113userguide/merchandise-management/items" />
            <add key="/docs/vc111userguide-jp/order-management/order-details/adding-editing-and-removing-items-in-the-shipment" value="docs/old-versions/vc111userguide-jp/order-management/order-details/adding-editing-and-removing-items-in-the-shipment" />
            <add key="/docs/vc113userguide/merchandise-management/categories/creating-a-category" value="docs/old-versions/vc113userguide/merchandise-management/categories/creating-a-category" />
            <add key="/docs/vc113userguide/marketing/content-publishing/editing-content-publishing" value="docs/old-versions/vc113userguide/marketing/content-publishing/editing-content-publishing" />
            <add key="/docs/vc111userguide-jp/marketing/content-publishing/remove-dynamic-content-publishing" value="docs/old-versions/vc111userguide-jp/marketing/content-publishing/remove-dynamic-content-publishing" />
            <add key="/docs/vc111userguide-jp/price-lists/creating-price-list-assignments" value="docs/old-versions/vc111userguide-jp/price-lists/creating-price-list-assignments" />
            <add key="/docs/vc111userguide-jp/merchandise-management/categories/deleting-a-category" value="docs/old-versions/vc111userguide-jp/merchandise-management/categories/deleting-a-category" />
            <add key="/docs/vc111userguide-jp/merchandise-management/import/running-import-job" value="docs/old-versions/vc111userguide-jp/merchandise-management/import/running-import-job" />
            <add key="/docs/vc113devguide/working-with-fulfillment/fulfillment-lifecycle" value="docs/old-versions/vc113devguide/working-with-fulfillment/fulfillment-lifecycle" />
            <add key="/docs/vc111userguide-jp/marketing/content-publishing/editing-content-publishing-group" value="docs/old-versions/vc111userguide-jp/marketing/content-publishing/editing-content-publishing-group" />
            <add key="/docs/vc113devguide/working-with-orders/returns-lifecycle" value="docs/old-versions/vc113devguide/working-with-orders/returns-lifecycle" />
            <add key="/docs/vc113userguide/merchandise-management/import/running-import-job" value="docs/old-versions/vc113userguide/merchandise-management/import/running-import-job" />
            <add key="/docs/vc111userguide-jp/price-lists/searching-for-a-price-list" value="docs/old-versions/vc111userguide-jp/price-lists/searching-for-a-price-list" />
            <add key="/docs/vc113userguide/order-management/searching-for-an-order" value="docs/old-versions/vc113userguide/order-management/searching-for-an-order" />
            <add key="/docs/vc111userguide-jp/customer-service/editing-case-details" value="docs/old-versions/vc111userguide-jp/customer-service/editing-case-details" />
            <add key="/docs/vc111userguide-jp/dashboard/customizing-the-dashboard" value="docs/old-versions/vc111userguide-jp/dashboard/customizing-the-dashboard" />
            <add key="/docs/vc113userguide/price-lists/creating-and-deleting-a-price-list" value="docs/old-versions/vc113userguide/price-lists/creating-and-deleting-a-price-list" />
            <add key="/docs/vc111userguide-jp/merchandise-management/items/creating-editing-deleting-a-bundle" value="docs/old-versions/vc111userguide-jp/merchandise-management/items/creating-editing-deleting-a-bundle" />
            <add key="/blog/architecture" value="blog/tag/architecture" />
            <add key="/docs/vc111userguide-jp/introduction-to-virto-commerce" value="docs/old-versions/vc111userguide-jp/introduction-to-virto-commerce" />
            <add key="/docs/vc111userguide-jp/settings/taxes" value="docs/old-versions/vc111userguide-jp/settings/taxes" />
            <add key="/docs/vc113userguide/order-management/return-exchange" value="docs/old-versions/vc113userguide/order-management/return-exchange" />
            <add key="/docs/vc113userguide/reporting" value="docs/old-versions/vc113userguide/reporting" />
            <add key="/docs/vc113devguide/architecture/web-applications/seo" value="docs/old-versions/vc113devguide/architecture/web-applications/seo" />
            <add key="/docs/vc113userguide/order-management" value="docs/old-versions/vc113userguide/order-management" />
            <add key="/docs/vc113userguide/price-lists/creating-price-list-assignments" value="docs/old-versions/vc113userguide/price-lists/creating-price-list-assignments" />
            <add key="/docs/vc113userguide/merchandise-management/items/creating-editing-deleting-a-dynamic-kit" value="docs/old-versions/vc113userguide/merchandise-management/items/creating-editing-deleting-a-dynamic-kit" />
            <add key="/docs/vc111userguide-jp/marketing/content-publishing" value="docs/old-versions/vc111userguide-jp/marketing/content-publishing" />
            <add key="/docs/vc111userguide-jp/settings/customer-profile-attributes" value="docs/old-versions/vc111userguide-jp/settings/customer-profile-attributes" />
            <add key="/docs/vc111userguide-jp/dashboard" value="docs/old-versions/vc111userguide-jp/dashboard" />
            <add key="/docs/vc111userguide-jp/price-lists/adding-editing-removing-prices" value="docs/old-versions/vc111userguide-jp/price-lists/adding-editing-removing-prices" />
            <add key="/docs/vc113userguide/fulfillment/returns-exchanges" value="docs/old-versions/vc113userguide/fulfillment/returns-exchanges" />
            <add key="/docs/vc113devguide/working-with-reporting-system" value="docs/old-versions/vc113devguide/working-with-reporting-system" />
            <add key="/docs/vc113userguide/settings/stores" value="docs/old-versions/vc113userguide/settings/stores" />
            <add key="/docs/vc2devguide/development-scenarios/configuring-err" value="docs/vc2devguide/development-scenarios/configuring-error-logging-and-notifications" />
            <add key="/docs/vc113userguide/settings/application-settings" value="docs/old-versions/vc113userguide/settings/application-settings" />
            <add key="/Files/Kitmall-case-study.pdf" value="assets/files/kitmall-case-study.pdf" />
            <add key="/features" value="features/for-business-professionals" />
            <add key="/sitemap-index.xml" value="sitemap/sitemap-index.xml" />
            <add key="/sitemap.xml.gz" value="sitemap/sitemap.xml.gz" />
            <add key="/sitemap-index.xml.gz" value="sitemap/sitemap-index.xml.gz" />
            <add key="/Us" value="/about-us" />
            <add key="/integrations" value="/" />
            <add key="/coremodules" value="/" />
            <add key="/docs/vc113userguide/what-is-commerce-manager" value="/" />
            <add key="/docs/vc113userguide/users-management-roles-and-role-assignment" value="/" />
            <add key="/apps/CMSExtensions" value="/" />
            <add key="/apps/integrations" value="/" />
            <add key="/docs/vc113userguide/settings/search-settings" value="/" />
            <add key="/apps/coremodules" value="/" />
            <add key="/docs/vc113devguide/architecture" value="/" />
            <add key="/docs/vc113devguide/working-with-marketing-system/marketing-object-model" value="/" />
            <add key="/docs/vc113userguide/marketing/promotions" value="/" />
            <add key="/themes2" value="/" />
            <add key="/blog_sitemap.xml" value="/" />
            <add key="/support/documentation" value="/" />
            <add key="/docs/vc113userguide/price-lists/searching-for-a-price-list" value="/" />
            <add key="/Files/Feature-Guide.pdf" value="/" />
            <add key="/docs/vc113devguide/tutorials/add-mew-module-to-virtocommerce-admin" value="/" />
            <add key="/docs_sitemap.xml" value="/" />
            <add key="/%7B%7B%20article.url%20%7D%7D" value="/" />
            <add key="/requestcommunitylicense" value="/" />
            <add key="/virto-product-recommendations-module" value="/" />
            <add key="/blog/installation" value="/" />
            <add key="/znodeNET" value="/" />
            <add key="/blog/azure" value="/" />
            <add key="/blog/2" value="/" />
            <add key="/sv-se/partners/become-partner" value="/" />
            <add key="/sv-se/try-now" value="/" />
            <add key="/downloadthankyou" value="/" />
            <add key="/blog/features" value="/" />
            <add key="/docs/old/source-code-getting-started" value="/" />
            <add key="/blog/announcements" value="/" />
            <add key="/timber" value="/" />
            <add key="/blog/uncategorized" value="/" />
            <add key="/dev~VirtoCommerce/Sitemap" value="/" />
            <add key="/sv-se/download-sdk" value="/" />
            <add key="/defaultCSS?v=D6DfRdPJx_otIqRfWKRs" value="/" />
            <add key="/%EF%BC%89%EF%BC%8C%E5%9B%BD%E5%A4%96%E7%94%A8.net" value="/" />
            <add key="/Content/fonts/seguisb.woff" value="/" />
            <add key="/admin/api/licenses/activate/" value="/" />
            <add key="/apps/themes2" value="/" />
            <add key="/docs/vc113devguide" value="/" />
            <add key="/docs/vc113userguide" value="/" />
            <add key="/docs/vc111userguide-jp" value="/" />
            <add key="/docs/vc113userguide/price-lists/adding-editing-removing-prices" value="/" />
            <add key="/docs/vc113userguide/marketing/content-publishing/duplicate-content-publishing-group" value="/" />
            <add key="/docs/vc111userguide-jp/price-lists" value="/" />
            <add key="/docs/vc111userguide-jp/marketing/dynamic-content" value="/" />
            <add key="/docs/vc111userguide-jp/marketing" value="/" />
            <add key="/partner/" value="/" />
            <add key="/docs/vc111userguide-jp/fulfillment/picklists" value="/" />
            <add key="/downloadSDK" value="/" />
            <add key="/template/virtocommerce/binaryresource/feature%20guide.pdf" value="/" />
            <add key="/search?q=%E5%A4%A7%E5%A5%96%E6%8D%95%E9%B1%BC%E4%BC%98%E8%B4%A8%E7%9A%84%E5%8D%9A%E5%BD%A9%E6%9C%8D%E5%8A%A1%E5%8F%A3%E7%A2%91%E8%80%8C%E4%BA%AB%E8%AA%89%E5%85%A8%E7%90%83+Q82019309.com.com" value="/" />
            <add key="/search?q=%E5%A4%A7%E5%A5%96%E5%A8%B1%E4%B9%90%E5%A4%87%E7%BD%91+Q82019309.com.com" value="/" />
            <add key="/{{ article.url }}" value="/" />
            <add key="/webcast-virto-commerce-9-10-oct" value="/" />
            <add key="/www.transfirst.com" value="/" />
            <add key="/features/shopify-migration" value="/" />
            <add key="/shopping-cart" value="asp-net-shopping-cart" />
            <add key="/glossary/ecommerce-platforms" value="glossary/best-ecommerce-platforms" />
            <add key="/glossary/epcm-process-software" value="glossary/e-procurement-software" />
            <add key="/glossary/magento-alternative" value="glossary/magento-alternatives" />
            <add key="/our-offers/enterprise-cloud-hosted" value="our-offers/cloud-ecommerce-platform" />
            <add key="/glossary/cloud-ecommerce" value="glossary/cloud-ecommerce-solution" />
            <add key="/glossary/what-is-b2b" value="glossary/what-is-b2b-ecommerce" />
            <add key="/glossary/what-is-pim" value="product-information-management" />
            <add key="/product-information-management" value="product-information-management-software" />
            <add key="/b2b-ecommerce" value="b2b-ecommerce-platform" />
            <add key="/customers/account" value="vc-community" />
            <add key="/account" value="vc-community" />
            <add key="/product-information-management-software" value="product-information-management-software-pim" />
            <add key="/order-management-software" value="order-management-software-oms" />
            <add key="/glossary/purchase-order-management" value="glossary/purchase-order-management-software" />
            <add key="/glossary/order-management-software" value="order-management-software-oms" />
            <add key="/docs/vc113devguide/working-with-catalog-system/database-model" value="/docs/old-versions/vc113devguide/working-with-catalog-system/database-model" />
            <add key="/docs/vc113userguide/getting-started/creating-new-store-from-empty-database" value="/docs/old-versions/vc113userguide/getting-started/creating-new-store-from-empty-database" />
            <add key="/docs/vc113userguide/price-lists/viewing-a-price-list" value="/docs" />
            <add key="/docs/vc113userguide/fulfillment/inventory" value="/docs" />
            <add key="/blog/docs" value="/docs" />
            <add key="/blog/terms" value="/terms" />
            <add key="/blog/support" value="/support" />
            <add key="/blog/try-now" value="/try-now" />
            <add key="/blog/roadmap" value="/roadmap" />
            <add key="/blog/about-us" value="/about-us" />
            <add key="/blog/resources" value="/resources" />
            <add key="/blog/case-studies" value="/case-studies" />
            <add key="/blog/vc-community" value="/vc-community" />
            <add key="/blog/try-now-download" value="/try-now-download" />
            <add key="/blog/estimate-project" value="/estimate-project" />
            <add key="/blog/b2b-ecommerce-platform" value="/b2b-ecommerce-platform" />
            <add key="/blog/for-developers" value="/" />
            <add key="/blog/become-partner" value="/partners/become-partner" />
            <add key="/blog/list-of-partners" value="/partners/list-of-partners" />
            <add key="/blog/best-ecommerce-platforms,404" value="/glossary/best-ecommerce-platforms" />
        </rewriteMap>
    </rewriteMaps>
    <rules>
        <rule name="Robots.txt for staging" stopProcessing="true">
            <match url="robots.txt" />
            <conditions>
                <add input="{HTTP_HOST}" pattern="^(virtocommerce\.com)$" negate="true"/>
            </conditions>
            <action type="Rewrite" url="/robots.staging.txt" />
        </rule>
        <rule name="Robots.txt for production" stopProcessing="true">
            <match url="robots.txt" />
            <conditions>
                <add input="{HTTP_HOST}" pattern="^(virtocommerce\.com)$" negate="false"/>
            </conditions>
            <action type="Rewrite" url="/robots.production.txt" />
        </rule>
        <rule name="Redirect Blogs to Blog" stopProcessing="true">
            <match url="^blogs/news/(.+)" />
            <action type="Redirect" url="blog/{R:1}" />
        </rule>
        <rule name="Redirect to non www">
            <match url="^(.*)" />
            <conditions trackAllCaptures="true">
                <add input="{HTTP_HOST}" pattern="^(www\.)(.+)$"/>
            </conditions>
            <action type="Redirect" url="https://{C:2}/{R:1}" redirectType="Permanent"/>
        </rule>
        <!--
    <rule name="Redirect b2b-ecommerce to b2b-ecommerce-platform" stopProcessing="true">
        <match url="\w*b2b-ecommerce$" />
        <action type="Redirect" url="https://virtocommerce.com/b2b-ecommerce-platform" />
    </rule>
    -->
        <rule name="VC old link redirects">
            <match url=".*" ignoreCase="true" />
            <conditions>
                <add input="{VC-redirects:{REQUEST_URI}}" pattern="(.+)" />
            </conditions>
            <action type="Redirect" url="{C:1}" redirectType="Permanent" />
        </rule>
        <rule name="Remove trailing slash from the URL" stopProcessing="true">
            <match url="(.*)/$" />
            <conditions>
                <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
                <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
                <add input="{REQUEST_URI}" pattern="^/(?!admin)$" />
            </conditions>
            <action type="Redirect" redirectType="Permanent" url="{R:1}" />
        </rule>
        <!--<rule name="Redirect to vc community" stopProcessing="true">
            <match url="(.*)(\/account)$" />
            <action type="Redirect" url="vc-community" />
        </rule>-->
    </rules>
</rewrite>
